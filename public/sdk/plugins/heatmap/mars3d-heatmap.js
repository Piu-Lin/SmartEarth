/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.5
 * 编译日期：2022-08-16 21:14:35
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x557958=_0x3cc6;(function(_0x38bdcf,_0x5764aa){var _0x225be1=_0x3cc6,_0x1cd96=_0x38bdcf();while(!![]){try{var _0x15c8b2=parseInt(_0x225be1(0x1f3))/0x1*(-parseInt(_0x225be1(0x207))/0x2)+parseInt(_0x225be1(0x206))/0x3*(parseInt(_0x225be1(0x1c0))/0x4)+-parseInt(_0x225be1(0x1ba))/0x5+-parseInt(_0x225be1(0x1f2))/0x6+-parseInt(_0x225be1(0x1a0))/0x7*(parseInt(_0x225be1(0x20d))/0x8)+parseInt(_0x225be1(0x1d0))/0x9+parseInt(_0x225be1(0x1e8))/0xa;if(_0x15c8b2===_0x5764aa)break;else _0x1cd96['push'](_0x1cd96['shift']());}catch(_0x31eb2f){_0x1cd96['push'](_0x1cd96['shift']());}}}(_0x26ec,0x971ea));function _interopNamespace(_0x14dd88){var _0xb45470=_0x3cc6;if(_0x14dd88&&_0x14dd88[_0xb45470(0x199)])return _0x14dd88;var _0x237401=Object[_0xb45470(0x1cd)](null);return _0x14dd88&&Object[_0xb45470(0x218)](_0x14dd88)[_0xb45470(0x198)](function(_0x5748ca){var _0x2ed638=_0xb45470;if(_0x5748ca!==_0x2ed638(0x197)){var _0x3989dc=Object[_0x2ed638(0x19c)](_0x14dd88,_0x5748ca);Object['defineProperty'](_0x237401,_0x5748ca,_0x3989dc['get']?_0x3989dc:{'enumerable':!![],'get':function(){return _0x14dd88[_0x5748ca];}});}}),_0x237401[_0xb45470(0x197)]=_0x14dd88,_0x237401;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x50138b,_0x183f8c){var _0x53cff9=_0x3cc6,_0x12808d=Object['keys'](_0x50138b);if(Object[_0x53cff9(0x201)]){var _0x334d3e=Object[_0x53cff9(0x201)](_0x50138b);_0x183f8c&&(_0x334d3e=_0x334d3e[_0x53cff9(0x1f1)](function(_0x17e40e){return Object['getOwnPropertyDescriptor'](_0x50138b,_0x17e40e)['enumerable'];})),_0x12808d[_0x53cff9(0x1d7)][_0x53cff9(0x1df)](_0x12808d,_0x334d3e);}return _0x12808d;}function _objectSpread2(_0x4e7008){var _0x3b7335=_0x3cc6;for(var _0x2ce100=0x1;_0x2ce100<arguments['length'];_0x2ce100++){var _0x3ea341=null!=arguments[_0x2ce100]?arguments[_0x2ce100]:{};_0x2ce100%0x2?ownKeys(Object(_0x3ea341),!0x0)[_0x3b7335(0x198)](function(_0x35c486){_defineProperty(_0x4e7008,_0x35c486,_0x3ea341[_0x35c486]);}):Object[_0x3b7335(0x1e3)]?Object[_0x3b7335(0x21e)](_0x4e7008,Object['getOwnPropertyDescriptors'](_0x3ea341)):ownKeys(Object(_0x3ea341))[_0x3b7335(0x198)](function(_0x3c95a7){var _0xc7417=_0x3b7335;Object['defineProperty'](_0x4e7008,_0x3c95a7,Object[_0xc7417(0x19c)](_0x3ea341,_0x3c95a7));});}return _0x4e7008;}function _classCallCheck(_0x2bdc0c,_0x350b64){var _0x229619=_0x3cc6;if(!(_0x2bdc0c instanceof _0x350b64))throw new TypeError(_0x229619(0x215));}function _defineProperties(_0x407c38,_0x55f4bb){var _0x11cd53=_0x3cc6;for(var _0x4f9f17=0x0;_0x4f9f17<_0x55f4bb[_0x11cd53(0x219)];_0x4f9f17++){var _0x52f628=_0x55f4bb[_0x4f9f17];_0x52f628[_0x11cd53(0x1a4)]=_0x52f628[_0x11cd53(0x1a4)]||![],_0x52f628[_0x11cd53(0x1c3)]=!![];if('value'in _0x52f628)_0x52f628[_0x11cd53(0x1a1)]=!![];Object['defineProperty'](_0x407c38,_0x52f628['key'],_0x52f628);}}function _0x26ec(){var _0x565158=['AxngB3jTyxq','ode2ogTure14tq','C3bSAxroDw0','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','x21HCa','y29UzMLNDxjL','y29UC3rYDwn0','tgf5zxjvDgLS','CMDIkdiXnIWYmtySmJe2kq','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','CM91BMq','BwvYz2u','A2v5CW','BgvUz3rO','C2v0uhjVDg90ExbLt2y','Cg9PBNrZ','x21cB3vUzhnnyxG','x3bVC2L0Aw9UCW','zgvMAw5LuhjVCgvYDgLLCW','r3jHCgHPy0XHEwvY','zgf0yq','y2XPzw50v2LKDgG','ChG7AgvPz2H0oG','ywrKtgf5zxi','Bwf4q2fUDMfZu2L6zq','ug9SEvv0AwW','Dw5KzwzPBMvK','z3jHzgLLBNrbCMm','s0vfua','x2nYzwf0zuDYyxbOAwm','yMX1CG','y29UDgfPBMvY','CgfYC2u','y3nZvgv4Da','C2v0ug9ZAxrPB25Z','yNvTCe1HCa','quXxqvLt','zgvMAw5LuhjVCgvYDhK','zgvMyxvSDa','zM9YrwfJAa','x19LC01VzhvSzq','Bwf4','Aw1Hz2u','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','CMvTB3zLr3jHCgHPyW','Dg9bCNjHEq','qMfZzuXHEwvY','ndK3n2fHyMrnuG','D3jPDgfIBgu','BwLUq2fUDMfZu2L6zq','ywrKug9ZAxrPB24','zw51BwvYywjSzq','zgLMzKHLAwDODa','q2fYDgvZAwfUmG','y3r4','y2XLyxi','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','x2DLDefYy0HLyxrdyw52yxm','Dw5PzM9YBxm','C2HVDW','y29UC3rYDwn0B3i','z3jHCgHPyW','rg9TvxrPBa','u3rLBMnPBe9WzxjHDgLVBG','ywjZ','x2fKzgvKsg9VAW','Bg5N','uKvqtefdrq','uMvJDgfUz2XLuhjPBwL0AxzL','z2v0sw1Hz2veyxrH','Ew1HEa','B3b0Aw9UCW','CMfKAxvZ','ntC0otuWtKz3A1zX','BwvYy2f0B3iYBg9UBgf0','BwLU','y2XPzw50sgvPz2H0','z3jHBNvSyxjPDhK','x2nYzwf0zufYy0DYyxbOAwm','ng5uwLrNuG','x2DLDeHLyxrdyw52yxm','ywrKr3jHCgHPyW','y29UzMLNDxjHyMXL','CMvTB3zL','ug9PBNruCMfUCW','q29SB3i','ChjVDg90ExbL','quXqsefFqKXftKq','AgvHDa','zM9YBwf0uMvJDgfUz2XL','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','Bgf5zxi','y3jLyxrL','C2v0rgf0yq','zNjVBunHy2HL','ntC5ndu4n01PsxbyvG','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cGPJEM1FBwf0zxjPywWGy3PTx2DLDe1HDgvYAwfSkgn6Bv9TyxrLCMLHBeLUChv0ig1HDgvYAwfSsw5WDxqPihSkicbJEM1FBwf0zxjPywWGBwf0zxjPywWGpsbJEM1Fz2v0rgvMyxvSDe1HDgvYAwfSkg1HDgvYAwfSsw5WDxqPoWOGihzLyZiGC3qGpsbTyxrLCMLHBeLUChv0lNn0oWOGihzLyZqGy29SB3jjBwfNzsa9ihrLEhr1CMuYrcHPBwfNzsWGC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPihSkicaGigrPC2nHCMq7cIaGFqOGig1HDgvYAwfSlMrPzMz1C2uGpsbJB2XVCKLTywDLlNjNyJSkicbTyxrLCMLHBc5HBhbOysa9ignVBg9Ysw1Hz2uUytSkicbYzxr1CM4GBwf0zxjPywW7cN0k','CMvNAxn0zxi','Bgf0','y29Uy2f0','DMfSDwvpzG','Eg1HEa','ChvZAa','Cg9ZAxrPB25Z','zMX5vg8','vKvsvevyx0zpuK1bva','u3rLBMnPBez1BMn0Aw9U','Eg1PBG','z2v0uMvJDgfUz2XL','CMDIkdi1nsWYntuSmJu1kq','yxbWBhK','CMvK','AgvHDfn0EwXL','x3jLBMrLCMvY','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','y2fUDMfZ','tg5Ntgf0ug9PBNq','z2v0vMfSDwvbDa','twf0zxjPywW','oti0mdiYmg1wq3rjsG','z2v0uhjVDg90ExbLt2y','yxjJ','C3r5Bgu','6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','z2v0ug9PBNreyxrH','DMfSDwu','Bg9UBgf0mM1LCMnHDg9Y','x3jLBw92zwriB29R','zMLSDgvY','ndqWnJqXmLHYrvnyqW','mMXzvgXstq','x2XHC3rFAgvHDerHDge','x21VDw50zwriB29R','x2DYyxbOAwm','x3jLy3rHBMDSzq','Ew1PBG','zNvUy3rPB24','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','x2XHEwvY','y29WEunHBNzHCW','x19WCM90B19F','ChG7','C2HHBq','x2XHC3rFBujVDw5KCW','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','y2fSBa','sgvHDeXHEwvY','CMDIkdaSmcWWkq','CMvJDgfUz2XL','mZe5odKXohbvreXWAG','ndm5odyYwevXwhrh','x3nJywXL','zMXVB3i','x2HLyxq','uMvJDgfUz2XL'];_0x26ec=function(){return _0x565158;};return _0x26ec();}function _createClass(_0x15c8d8,_0x3c76cf,_0x567d98){var _0x16f74e=_0x3cc6;if(_0x3c76cf)_defineProperties(_0x15c8d8[_0x16f74e(0x1c7)],_0x3c76cf);if(_0x567d98)_defineProperties(_0x15c8d8,_0x567d98);return Object['defineProperty'](_0x15c8d8,_0x16f74e(0x1c7),{'writable':![]}),_0x15c8d8;}function _defineProperty(_0x59e172,_0x42350e,_0x52c8d3){var _0x15ba6a=_0x3cc6;return _0x42350e in _0x59e172?Object[_0x15ba6a(0x231)](_0x59e172,_0x42350e,{'value':_0x52c8d3,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x59e172[_0x42350e]=_0x52c8d3,_0x59e172;}function _inherits(_0x4f3d2e,_0x28e7da){var _0x51ba3b=_0x3cc6;if(typeof _0x28e7da!=='function'&&_0x28e7da!==null)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x4f3d2e[_0x51ba3b(0x1c7)]=Object['create'](_0x28e7da&&_0x28e7da[_0x51ba3b(0x1c7)],{'constructor':{'value':_0x4f3d2e,'writable':!![],'configurable':!![]}}),Object[_0x51ba3b(0x231)](_0x4f3d2e,_0x51ba3b(0x1c7),{'writable':![]});if(_0x28e7da)_setPrototypeOf(_0x4f3d2e,_0x28e7da);}function _getPrototypeOf(_0x5870cf){var _0x55613b=_0x3cc6;return _getPrototypeOf=Object[_0x55613b(0x21a)]?Object['getPrototypeOf']:function _0x1749bc(_0x31e957){var _0x36f6a9=_0x55613b;return _0x31e957[_0x36f6a9(0x1fd)]||Object[_0x36f6a9(0x1e9)](_0x31e957);},_getPrototypeOf(_0x5870cf);}function _setPrototypeOf(_0x2b05fe,_0x34f8ff){var _0x244a6b=_0x3cc6;return _setPrototypeOf=Object[_0x244a6b(0x21a)]||function _0x544664(_0x37714a,_0xbe34f){var _0x246802=_0x244a6b;return _0x37714a[_0x246802(0x1fd)]=_0xbe34f,_0x37714a;},_setPrototypeOf(_0x2b05fe,_0x34f8ff);}function _isNativeReflectConstruct(){var _0x3b28c7=_0x3cc6;if(typeof Reflect===_0x3b28c7(0x226)||!Reflect['construct'])return![];if(Reflect[_0x3b28c7(0x212)][_0x3b28c7(0x1ff)])return![];if(typeof Proxy===_0x3b28c7(0x1f9))return!![];try{return Boolean[_0x3b28c7(0x1c7)][_0x3b28c7(0x1d5)][_0x3b28c7(0x202)](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x36578d){return![];}}function _assertThisInitialized(_0x18db00){if(_0x18db00===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x18db00;}function _possibleConstructorReturn(_0x2c79ea,_0x48938f){if(_0x48938f&&(typeof _0x48938f==='object'||typeof _0x48938f==='function'))return _0x48938f;else{if(_0x48938f!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x2c79ea);}function _createSuper(_0x223409){var _0xd7342b=_isNativeReflectConstruct();return function _0x21b207(){var _0x4d8634=_0x3cc6,_0x44da86=_getPrototypeOf(_0x223409),_0x35b894;if(_0xd7342b){var _0x309ed3=_getPrototypeOf(this)[_0x4d8634(0x1ad)];_0x35b894=Reflect[_0x4d8634(0x212)](_0x44da86,arguments,_0x309ed3);}else _0x35b894=_0x44da86['apply'](this,arguments);return _possibleConstructorReturn(this,_0x35b894);};}var HeatMaterial=_0x557958(0x1d1);if(!h337__namespace[_0x557958(0x1cd)])throw new Error(_0x557958(0x1ec));function _0x3cc6(_0x10b84c,_0x87535){var _0x26ecb8=_0x26ec();return _0x3cc6=function(_0x3cc6ba,_0x4851eb){_0x3cc6ba=_0x3cc6ba-0x197;var _0x40319c=_0x26ecb8[_0x3cc6ba];if(_0x3cc6['sFBSSk']===undefined){var _0x184583=function(_0x14dd88){var _0x237401='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5748ca='',_0x3989dc='';for(var _0x50138b=0x0,_0x183f8c,_0x12808d,_0x334d3e=0x0;_0x12808d=_0x14dd88['charAt'](_0x334d3e++);~_0x12808d&&(_0x183f8c=_0x50138b%0x4?_0x183f8c*0x40+_0x12808d:_0x12808d,_0x50138b++%0x4)?_0x5748ca+=String['fromCharCode'](0xff&_0x183f8c>>(-0x2*_0x50138b&0x6)):0x0){_0x12808d=_0x237401['indexOf'](_0x12808d);}for(var _0x17e40e=0x0,_0x4e7008=_0x5748ca['length'];_0x17e40e<_0x4e7008;_0x17e40e++){_0x3989dc+='%'+('00'+_0x5748ca['charCodeAt'](_0x17e40e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3989dc);};_0x3cc6['UjOsvK']=_0x184583,_0x10b84c=arguments,_0x3cc6['sFBSSk']=!![];}var _0xb3c811=_0x26ecb8[0x0],_0x598bd6=_0x3cc6ba+_0xb3c811,_0x2ef7ed=_0x10b84c[_0x598bd6];return!_0x2ef7ed?(_0x40319c=_0x3cc6['UjOsvK'](_0x40319c),_0x10b84c[_0x598bd6]=_0x40319c):_0x40319c=_0x2ef7ed,_0x40319c;},_0x3cc6(_0x10b84c,_0x87535);}var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x557958(0x19f)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:'blue',0.6:'green',0.8:'yellow',0.9:_0x557958(0x1e0)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x557958(0x1fa)][_0x557958(0x1da)]},HeatLayer=function(_0x3fc661){var _0x23d827=_0x557958;_inherits(_0x208fdd,_0x3fc661);var _0x33f8db=_createSuper(_0x208fdd);function _0x208fdd(){var _0x5bbc89=_0x3cc6,_0x2be387,_0x558ba5,_0x774a28,_0x4adeb3=arguments[_0x5bbc89(0x219)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x208fdd),_0x774a28=_0x33f8db[_0x5bbc89(0x202)](this,_0x4adeb3),_0x774a28[_0x5bbc89(0x1b8)][_0x5bbc89(0x224)]=(_0x2be387=_0x774a28[_0x5bbc89(0x1b8)]['maxCanvasSize'])!==null&&_0x2be387!==void 0x0?_0x2be387:document['body'][_0x5bbc89(0x221)],_0x774a28[_0x5bbc89(0x1b8)][_0x5bbc89(0x224)]=Math[_0x5bbc89(0x1bc)](_0x774a28['options'][_0x5bbc89(0x224)],0x1388),_0x774a28[_0x5bbc89(0x1b8)]['minCanvasSize']=(_0x558ba5=_0x774a28[_0x5bbc89(0x1b8)][_0x5bbc89(0x1a2)])!==null&&_0x558ba5!==void 0x0?_0x558ba5:document['body'][_0x5bbc89(0x1bd)],_0x774a28[_0x5bbc89(0x1b8)][_0x5bbc89(0x1a2)]=Math[_0x5bbc89(0x19a)](_0x774a28[_0x5bbc89(0x1b8)][_0x5bbc89(0x1a2)],0x2bc),_0x774a28[_0x5bbc89(0x1b8)]['heatStyle']=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x774a28[_0x5bbc89(0x1b8)]['heatStyle']||{}),_0x774a28[_0x5bbc89(0x1b8)][_0x5bbc89(0x1eb)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x774a28[_0x5bbc89(0x1b8)][_0x5bbc89(0x1eb)]||{}),_0x774a28;}return _createClass(_0x208fdd,[{'key':_0x23d827(0x1cc),'get':function _0xcb3831(){return this['_layer'];}},{'key':_0x23d827(0x1e1),'get':function _0x46e010(){var _0x42abcf=_0x23d827;return this[_0x42abcf(0x1b8)][_0x42abcf(0x1e1)];},'set':function _0x4468e8(_0x1fad86){var _0x3698b4=_0x23d827;this[_0x3698b4(0x1b8)][_0x3698b4(0x1e1)]=mars3d__namespace['Util'][_0x3698b4(0x217)](this[_0x3698b4(0x1b8)]['heatStyle'],_0x1fad86),this[_0x3698b4(0x20a)]&&(this[_0x3698b4(0x20a)]['configure'](this[_0x3698b4(0x1b8)][_0x3698b4(0x1e1)]),this[_0x3698b4(0x20f)](!![]));}},{'key':_0x23d827(0x1eb),'get':function _0x6dba44(){var _0x42193c=_0x23d827;return this[_0x42193c(0x1b8)][_0x42193c(0x1eb)];},'set':function _0x14870f(_0x3c3715){var _0x4826d9=_0x23d827;this[_0x4826d9(0x1b8)][_0x4826d9(0x1eb)]=mars3d__namespace['Util'][_0x4826d9(0x217)](this[_0x4826d9(0x1b8)][_0x4826d9(0x1eb)],_0x3c3715);}},{'key':_0x23d827(0x1d8),'get':function _0xd8f6f9(){var _0x5d1ece=_0x23d827;return this[_0x5d1ece(0x21d)];},'set':function _0x1b4dd3(_0x149178){var _0x533345=_0x23d827;this[_0x533345(0x22e)](_0x149178);}},{'key':'coordinates','get':function _0x2079f9(){var _0x1a97c3=_0x23d827,_0x3d405c=[];return this[_0x1a97c3(0x21b)][_0x1a97c3(0x198)](function(_0x34170b){var _0x35c007=_0x1a97c3;_0x3d405c[_0x35c007(0x1d7)](_0x34170b[_0x35c007(0x19e)]());}),_0x3d405c;}},{'key':'rectangle','get':function _0x43dca6(){var _0x422719=_0x23d827;return this[_0x422719(0x1f7)];}},{'key':'_setOptionsHook','value':function _0x31212f(_0x1447d1){var _0x1fc6f5=_0x23d827;_0x1447d1[_0x1fc6f5(0x1d8)]&&(this[_0x1fc6f5(0x1d8)]=_0x1447d1[_0x1fc6f5(0x1d8)]);}},{'key':_0x23d827(0x1f5),'value':function _0x65a0b6(){var _0x426dcd=_0x23d827;this['_layer']=new mars3d__namespace[(_0x426dcd(0x1cc))][(_0x426dcd(0x21f))]({'private':!![]});}},{'key':_0x23d827(0x1b2),'value':function _0x196b7a(){var _0xde53da=_0x23d827;this[_0xde53da(0x210)][_0xde53da(0x223)](this[_0xde53da(0x1fb)]),this[_0xde53da(0x1b8)][_0xde53da(0x1d8)]&&(this['positions']=this['options']['positions']),this[_0xde53da(0x1b8)][_0xde53da(0x1d9)]&&this['flyToByAnimationEnd']();}},{'key':_0x23d827(0x1f0),'value':function _0x5e1ee5(){var _0x187e02=_0x23d827;this['heatStyle']['container']&&(mars3d__namespace[_0x187e02(0x1af)][_0x187e02(0x1c4)](this[_0x187e02(0x1e1)]['container']),delete this[_0x187e02(0x1e1)][_0x187e02(0x22b)]),this['clear'](),this[_0x187e02(0x210)]['removeLayer'](this[_0x187e02(0x1fb)]);}},{'key':_0x23d827(0x1a3),'value':function _0x572f8d(_0x29a703,_0x4dcff2){var _0x4dfd2b=_0x23d827;this[_0x4dfd2b(0x21d)]=this['_positions']||[],this[_0x4dfd2b(0x21d)][_0x4dfd2b(0x1d7)](_0x29a703),this[_0x4dfd2b(0x20f)](_0x4dcff2);}},{'key':_0x23d827(0x22e),'value':function _0x2cef6d(_0xa982b8,_0x4e9740){var _0x2f4d15=_0x23d827;this['_positions']=_0xa982b8,this[_0x2f4d15(0x20f)](_0x4e9740);}},{'key':_0x23d827(0x1a8),'value':function _0x1d3fdc(){var _0x2f854f=_0x23d827;this[_0x2f854f(0x1f6)]&&(this[_0x2f854f(0x1fb)][_0x2f854f(0x19d)](this[_0x2f854f(0x1f6)],!![]),delete this[_0x2f854f(0x1f6)]);}},{'key':_0x23d827(0x20f),'value':function _0x2d7772(_0x1bf8f1){var _0x19d9b0=_0x23d827;if(!this[_0x19d9b0(0x1ac)]||!this['_map']||!this[_0x19d9b0(0x1d8)]||this[_0x19d9b0(0x1d8)][_0x19d9b0(0x219)]===0x0)return this;var _0x873432=this[_0x19d9b0(0x1c1)]();return this[_0x19d9b0(0x1eb)][_0x19d9b0(0x1ea)]?this['_graphic']&&_0x1bf8f1?(this['_graphic'][_0x19d9b0(0x1ab)][_0x19d9b0(0x19b)]=_0x873432,this[_0x19d9b0(0x1f6)][_0x19d9b0(0x1ab)][_0x19d9b0(0x22f)]=this[_0x19d9b0(0x1aa)]()):this[_0x19d9b0(0x1bf)](_0x873432):this['_graphic']&&_0x1bf8f1?this[_0x19d9b0(0x1f6)]['uniforms'][_0x19d9b0(0x19b)]=_0x873432:this[_0x19d9b0(0x229)](_0x873432),this;}},{'key':'_createGraphic','value':function _0xf17b38(_0x2ce9a0){var _0x4f9fc6=_0x23d827;this[_0x4f9fc6(0x1a8)](),this[_0x4f9fc6(0x1f6)]=new mars3d__namespace[(_0x4f9fc6(0x1ae))][(_0x4f9fc6(0x1b5))](_objectSpread2(_objectSpread2({},this[_0x4f9fc6(0x1b8)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0x4f9fc6(0x1fa))]({'material':new Cesium[(_0x4f9fc6(0x1e7))]({'fabric':{'uniforms':{'image':_0x2ce9a0},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x4f9fc6(0x1fb)][_0x4f9fc6(0x1c2)](this[_0x4f9fc6(0x1f6)]);}},{'key':_0x23d827(0x1bf),'value':function _0x579a3c(_0x492b34){var _0xf73666=_0x23d827,_0x1e7913;this[_0xf73666(0x1a8)]();var _0x5e0093=Cesium['RenderState'][_0xf73666(0x1cf)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0xf73666(0x1db)][_0xf73666(0x230)],'frontOperation':{'fail':Cesium[_0xf73666(0x1b0)]['KEEP'],'zFail':Cesium[_0xf73666(0x1b0)][_0xf73666(0x228)],'zPass':Cesium['StencilOperation'][_0xf73666(0x1b4)]},'backFunction':Cesium[_0xf73666(0x1db)][_0xf73666(0x230)],'backOperation':{'fail':Cesium['StencilOperation'][_0xf73666(0x228)],'zFail':Cesium[_0xf73666(0x1b0)][_0xf73666(0x228)],'zPass':Cesium[_0xf73666(0x1b0)][_0xf73666(0x1b4)]},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState'][_0xf73666(0x1c8)]}),_0x534f32=Math[_0xf73666(0x209)]((_0x1e7913=this[_0xf73666(0x1eb)]['diffHeight'])!==null&&_0x1e7913!==void 0x0?_0x1e7913:this[_0xf73666(0x21c)]*0.02)+0.1;this[_0xf73666(0x1eb)][_0xf73666(0x1a5)]&&delete this[_0xf73666(0x1eb)][_0xf73666(0x1a5)];var _0x5967fe=(this['style'][_0xf73666(0x20e)],0x64),_0x26df44=Math['max'](this[_0xf73666(0x1f7)]['height'],this[_0xf73666(0x1f7)]['width']);this[_0xf73666(0x1eb)][_0xf73666(0x1be)]=_0x26df44/=_0x5967fe,this[_0xf73666(0x1f6)]=new mars3d__namespace[(_0xf73666(0x1ae))][(_0xf73666(0x1b5))](_objectSpread2(_objectSpread2({},this[_0xf73666(0x1b8)]),{},{'rectangle':this['_rectangle'],'appearance':new Cesium[(_0xf73666(0x1fa))]({'aboveGround':!![],'renderState':_0x5e0093,'material':new Cesium[(_0xf73666(0x1e7))]({'fabric':{'uniforms':{'image':_0x492b34,'repeat':new Cesium[(_0xf73666(0x1a6))](0x1,0x1),'color':new Cesium[(_0xf73666(0x1c6))](0x1,0x1,0x1,0.01),'bumpMap':this[_0xf73666(0x1aa)]()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0xf73666(0x1cb)[_0xf73666(0x1d4)](_0x534f32,';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20+=vec4(disPos,0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20czm_modelViewProjectionRelativeToEye\x20*\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),'flat':!![]})})),this[_0xf73666(0x1fb)][_0xf73666(0x1c2)](this['_graphic']);}},{'key':_0x23d827(0x1dd),'value':function _0x478f76(_0x3adae4){var _0x4339e6=_0x23d827;return _0x3adae4!==null&&_0x3adae4!==void 0x0&&_0x3adae4[_0x4339e6(0x20c)]&&this[_0x4339e6(0x1f7)]?mars3d__namespace[_0x4339e6(0x225)][_0x4339e6(0x1ca)](this['_rectangle']):this['_rectangle'];}},{'key':_0x23d827(0x1c1),'value':function _0x57b8bd(){var _0x5da5cd=_0x23d827,_0x180edf=this,_0x33e353,_0x4964b1,_0x15f902,_0x17c35f,_0x43f662=this['_positions'],_0xe64ab8=[],_0x2a5412,_0x86023f,_0x3ccd5c,_0x5c1162;_0x43f662[_0x5da5cd(0x198)](function(_0x43332c){var _0x202edc=_0x5da5cd,_0x1f8ba7=mars3d__namespace['LngLatPoint'][_0x202edc(0x22c)](_0x43332c);if(!_0x1f8ba7)return;_0x1f8ba7[_0x202edc(0x1ee)]=_0x43332c[_0x202edc(0x1ee)]||0x1,!_0x180edf[_0x202edc(0x1b8)][_0x202edc(0x205)]&&(_0x2a5412===undefined?(_0x2a5412=_0x1f8ba7['lng'],_0x86023f=_0x1f8ba7[_0x202edc(0x1b3)],_0x3ccd5c=_0x1f8ba7[_0x202edc(0x1d3)],_0x5c1162=_0x1f8ba7['lat']):(_0x2a5412=Math[_0x202edc(0x1bc)](_0x2a5412,_0x1f8ba7[_0x202edc(0x1b3)]),_0x86023f=Math[_0x202edc(0x19a)](_0x86023f,_0x1f8ba7[_0x202edc(0x1b3)]),_0x3ccd5c=Math[_0x202edc(0x1bc)](_0x3ccd5c,_0x1f8ba7[_0x202edc(0x1d3)]),_0x5c1162=Math['max'](_0x5c1162,_0x1f8ba7[_0x202edc(0x1d3)]))),_0xe64ab8[_0x202edc(0x1d7)](_0x1f8ba7);});var _0x2dbe9f=this[_0x5da5cd(0x1b8)][_0x5da5cd(0x205)]||{'xmin':_0x2a5412,'xmax':_0x86023f,'ymin':_0x3ccd5c,'ymax':_0x5c1162},_0x5ac1f8=getMercatorBounds(_0x2dbe9f),_0x21830c=Math[_0x5da5cd(0x1b1)](_0x5ac1f8['xmax']-_0x5ac1f8[_0x5da5cd(0x1dc)]),_0x3d18e1=Math[_0x5da5cd(0x1b1)](_0x5ac1f8[_0x5da5cd(0x1b7)]-_0x5ac1f8['ymin']),_0x2131bd=Math[_0x5da5cd(0x19a)](_0x21830c,_0x3d18e1),_0x27cf6a=Math['min'](_0x21830c,_0x3d18e1);this['_mBoundsMax']=_0x2131bd;var _0x582fcf=0x1;if(_0x2131bd>this[_0x5da5cd(0x1b8)][_0x5da5cd(0x224)])_0x582fcf=_0x2131bd/this[_0x5da5cd(0x1b8)][_0x5da5cd(0x224)],_0x27cf6a/_0x582fcf<this[_0x5da5cd(0x1b8)][_0x5da5cd(0x1a2)]&&(_0x582fcf=_0x27cf6a/this['options'][_0x5da5cd(0x1a2)]);else _0x27cf6a<this[_0x5da5cd(0x1b8)][_0x5da5cd(0x1a2)]&&(_0x582fcf=_0x27cf6a/this[_0x5da5cd(0x1b8)][_0x5da5cd(0x1a2)],_0x2131bd/_0x582fcf>this[_0x5da5cd(0x1b8)]['maxCanvasSize']&&(_0x582fcf=_0x2131bd/this[_0x5da5cd(0x1b8)][_0x5da5cd(0x224)]));var _0x5c8505=this[_0x5da5cd(0x1e1)][_0x5da5cd(0x1b9)]*1.5,_0x2727c4=_0x21830c/_0x582fcf+_0x5c8505*0x2,_0x260e63=_0x3d18e1/_0x582fcf+_0x5c8505*0x2,_0x54c9c9=_0x5c8505*_0x582fcf;_0x5ac1f8[_0x5da5cd(0x1dc)]-=_0x54c9c9,_0x5ac1f8[_0x5da5cd(0x1f8)]-=_0x54c9c9,_0x5ac1f8['xmax']+=_0x54c9c9,_0x5ac1f8[_0x5da5cd(0x1b7)]+=_0x54c9c9,this[_0x5da5cd(0x208)]=_0x582fcf,_0x2dbe9f=geLatLngBounds(_0x5ac1f8),this['_rectangle']=Cesium[_0x5da5cd(0x20b)]['fromDegrees'](_0x2dbe9f[_0x5da5cd(0x1dc)],_0x2dbe9f[_0x5da5cd(0x1f8)],_0x2dbe9f[_0x5da5cd(0x1d6)],_0x2dbe9f[_0x5da5cd(0x1b7)]);var _0x4a522c=(_0x33e353=_0xe64ab8[0x0][_0x5da5cd(0x1ee)])!==null&&_0x33e353!==void 0x0?_0x33e353:0x1,_0x59e071=(_0x4964b1=_0xe64ab8[0x0]['value'])!==null&&_0x4964b1!==void 0x0?_0x4964b1:0x0,_0x42a65c=[];_0xe64ab8[_0x5da5cd(0x198)](function(_0x356224){var _0x31fb4b=_0x5da5cd,_0x4fcad4=mars3d__namespace[_0x31fb4b(0x1c5)][_0x31fb4b(0x1ef)]([_0x356224[_0x31fb4b(0x1b3)],_0x356224[_0x31fb4b(0x1d3)]]),_0x4880f7=_0x356224[_0x31fb4b(0x1ee)]||0x1,_0x38dcb8=Math[_0x31fb4b(0x216)]((_0x4fcad4[0x0]-_0x5ac1f8['xmin'])/_0x582fcf),_0x12d507=Math[_0x31fb4b(0x216)]((_0x5ac1f8[_0x31fb4b(0x1b7)]-_0x4fcad4[0x1])/_0x582fcf);_0x4a522c=Math['max'](_0x4a522c,_0x4880f7),_0x59e071=Math[_0x31fb4b(0x1bc)](_0x59e071,_0x4880f7),_0x42a65c['push']({'x':_0x38dcb8,'y':_0x12d507,'value':_0x4880f7});});var _0x487cb2={'min':(_0x15f902=this[_0x5da5cd(0x1b8)][_0x5da5cd(0x1bc)])!==null&&_0x15f902!==void 0x0?_0x15f902:_0x59e071,'max':(_0x17c35f=this[_0x5da5cd(0x1b8)][_0x5da5cd(0x19a)])!==null&&_0x17c35f!==void 0x0?_0x17c35f:_0x4a522c,'data':_0x42a65c};this[_0x5da5cd(0x1f4)]=_0x487cb2;(!this[_0x5da5cd(0x200)]||_0x5ac1f8[_0x5da5cd(0x1dc)]!==this[_0x5da5cd(0x200)][_0x5da5cd(0x1dc)]||_0x5ac1f8[_0x5da5cd(0x1f8)]!==this[_0x5da5cd(0x200)]['ymin']||_0x5ac1f8['xmax']!==this[_0x5da5cd(0x200)][_0x5da5cd(0x1d6)]||_0x5ac1f8[_0x5da5cd(0x1b7)]!==this[_0x5da5cd(0x200)][_0x5da5cd(0x1b7)])&&(this[_0x5da5cd(0x200)]=_0x5ac1f8,!this[_0x5da5cd(0x1e1)][_0x5da5cd(0x22b)]&&(this[_0x5da5cd(0x1e1)][_0x5da5cd(0x22b)]=mars3d__namespace[_0x5da5cd(0x1af)][_0x5da5cd(0x1cd)]('div',_0x5da5cd(0x1a9),this[_0x5da5cd(0x210)]['container'])),this[_0x5da5cd(0x1e1)][_0x5da5cd(0x22b)]['style'][_0x5da5cd(0x22d)]='width:'[_0x5da5cd(0x1d4)](_0x2727c4,_0x5da5cd(0x222))['concat'](_0x260e63,_0x5da5cd(0x1fe)),!this[_0x5da5cd(0x20a)]?this[_0x5da5cd(0x20a)]=h337__namespace[_0x5da5cd(0x1cd)](this[_0x5da5cd(0x1e1)]):this['_heat']['configure'](this[_0x5da5cd(0x1e1)]));this[_0x5da5cd(0x20a)][_0x5da5cd(0x1ce)](_0x487cb2);var _0x5d0a1d=mars3d__namespace[_0x5da5cd(0x1af)][_0x5da5cd(0x1fc)](this[_0x5da5cd(0x20a)]['_renderer']['canvas']);return _0x5d0a1d;}},{'key':'_getArcHeatCanvas','value':function _0x5c7654(){var _0x40b6b4=_0x23d827;this['_heat'][_0x40b6b4(0x211)]({'radius':this[_0x40b6b4(0x1e1)][_0x40b6b4(0x1b9)]*this['style']['arcRadiusScale'],'blur':this[_0x40b6b4(0x1e1)][_0x40b6b4(0x22a)]*this[_0x40b6b4(0x1eb)]['arcBlurScale'],'gradient':this[_0x40b6b4(0x1e1)][_0x40b6b4(0x227)]||{0.25:_0x40b6b4(0x204),0.55:'rgb(140,140,140)',0.85:_0x40b6b4(0x214),0x1:_0x40b6b4(0x1de)}});var _0x3ad9f6=mars3d__namespace[_0x40b6b4(0x1af)][_0x40b6b4(0x1fc)](this[_0x40b6b4(0x20a)][_0x40b6b4(0x1e2)][_0x40b6b4(0x1e4)]);return this[_0x40b6b4(0x20a)]['configure'](this[_0x40b6b4(0x1b8)][_0x40b6b4(0x1e1)]),_0x3ad9f6;}},{'key':_0x23d827(0x1ed),'value':function _0x21cfb2(_0x1f63bb){var _0x36025d=_0x23d827,_0x1392d4=mars3d__namespace[_0x36025d(0x1e5)]['parse'](_0x1f63bb);if(!_0x1392d4)return{};var _0x4a0acc=mars3d__namespace[_0x36025d(0x1c5)][_0x36025d(0x1ef)]([_0x1392d4[_0x36025d(0x1b3)],_0x1392d4['lat']]),_0x4eec6c=this[_0x36025d(0x200)],_0xca2e3f=Math['round']((_0x4a0acc[0x0]-_0x4eec6c[_0x36025d(0x1dc)])/this[_0x36025d(0x208)]),_0x20142f=Math['round']((_0x4eec6c[_0x36025d(0x1b7)]-_0x4a0acc[0x1])/this[_0x36025d(0x208)]),_0x5895a0=this['_heat'][_0x36025d(0x1e6)]({'x':_0xca2e3f,'y':_0x20142f}),_0x856fb6=this[_0x36025d(0x20a)][_0x36025d(0x1e2)][_0x36025d(0x1a7)][_0x36025d(0x1b6)](_0xca2e3f-0x1,_0x20142f-0x1,0x1,0x1)[_0x36025d(0x220)];return{'x':_0xca2e3f,'y':_0x20142f,'value':_0x5895a0,'color':'rgba('+_0x856fb6[0x0]+','+_0x856fb6[0x1]+','+_0x856fb6[0x2]+','+_0x856fb6[0x3]+')'};}}]),_0x208fdd;}(BaseLayer);mars3d__namespace[_0x557958(0x1cc)][_0x557958(0x203)]=HeatLayer,mars3d__namespace[_0x557958(0x213)][_0x557958(0x1d2)](_0x557958(0x1c9),HeatLayer);function getMercatorBounds(_0x31a29c){var _0x52a889=_0x557958,_0x5d424c=mars3d__namespace[_0x52a889(0x1c5)]['lonlat2mercator']([_0x31a29c[_0x52a889(0x1dc)],_0x31a29c[_0x52a889(0x1f8)]]),_0x9b04c1=mars3d__namespace[_0x52a889(0x1c5)][_0x52a889(0x1ef)]([_0x31a29c[_0x52a889(0x1d6)],_0x31a29c['ymax']]);return{'xmin':_0x5d424c[0x0],'ymin':_0x5d424c[0x1],'xmax':_0x9b04c1[0x0],'ymax':_0x9b04c1[0x1]};}function geLatLngBounds(_0x2cf8bb){var _0x464737=_0x557958,_0xbd4590=mars3d__namespace['PointTrans'][_0x464737(0x1bb)]([_0x2cf8bb[_0x464737(0x1dc)],_0x2cf8bb[_0x464737(0x1f8)]]),_0x1a3b50=mars3d__namespace[_0x464737(0x1c5)][_0x464737(0x1bb)]([_0x2cf8bb[_0x464737(0x1d6)],_0x2cf8bb[_0x464737(0x1b7)]]);return{'xmin':_0xbd4590[0x0],'ymin':_0xbd4590[0x1],'xmax':_0x1a3b50[0x0],'ymax':_0x1a3b50[0x1]};}exports['HeatLayer']=HeatLayer,Object[_0x557958(0x231)](exports,_0x557958(0x199),{'value':!![]});
}));
